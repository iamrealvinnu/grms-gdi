-- create table contacts
CREATE TABLE[Contacts](
    [Id] [UNIQUEIDENTIFIER] PRIMARY KEY NOT NULL,
    [FirstName] [NVARCHAR](256) NULL,
    [LastName] [NVARCHAR](256) NULL,
    [Email] [NVARCHAR](256) NULL,
	[EmailConfirmed] [BIT] NULL,
	[PhoneNumber] [NVARCHAR](256) NULL,
	[PhoneNumberConfirmed] [BIT] NULL,
	[MobileNumber] [NVARCHAR](256) NULL,
	[MobileNumberConfirmed] [BIT] NULL,
    
    [CreatedBy] [UNIQUEIDENTIFIER] NOT NULL,
    [CreatedOnUtc] [DATETIME] NOT NULL DEFAULT (getutcdate()),
	[ChangedOnUtc] [DATETIME] NOT NULL DEFAULT (getutcdate()),
    
    [CampaignId] [UNIQUEIDENTIFIER] NULL,
    [AssignedUserId] [UNIQUEIDENTIFIER] NULL,
    [Udf1] [NVARCHAR](1024) NULL,
    [Udf2] [NVARCHAR](1024) NULL,
    [Udf3] [NVARCHAR](1024) NULL,
    CONSTRAINT FK_Contacts_CreatedBy FOREIGN KEY (CreatedBy) REFERENCES [User].[UserProfile](UserId),
    CONSTRAINT FK_Contacts_ModifiedUserId FOREIGN KEY (ModifiedUserId) REFERENCES [User].[UserProfile](UserId),
    CONSTRAINT FK_Contacts_CampaignId FOREIGN KEY (CampaignId) REFERENCES Campaigns(Id),
    CONSTRAINT FK_Contacts_AssignedUserId FOREIGN KEY (AssignedUserId) REFERENCES [User].[UserProfile](UserId)
);

--Create table accounts
CREATE TABLE [Accounts](
    [AccountId] [UNIQUEIDENTIFIER] PRIMARY KEY NOT NULL,
    [Deleted] [BIT] NOT NULL,
    [CreatedBy] [UNIQUEIDENTIFIER] NULL,
    [DateEntered] [DATETIME] NOT NULL,
    [ModifiedUserId] [UNIQUEIDENTIFIER] NULL,
    [DateModified] [DATETIME] NOT NULL,
    [DateModifiedUtc] [DATETIME] NULL,
    [AssignedUserId] [UNIQUEIDENTIFIER] NULL,
    [TeamId] [UNIQUEIDENTIFIER] NULL,
    [AccountNumber] [NVARCHAR](100) NULL,
    [Name] [NVARCHAR](255) NOT NULL,
    [AccountType] [INT] NULL,
    [ParentId] [UNIQUEIDENTIFIER] NULL,
    [Industry] [INT] NULL,
    [AnnualRevenue] [DECIMAL] NULL,
    [Phone] [NVARCHAR](50) NULL,
    [BillingAddressStreet] [TEXT] NULL,
    [BillingAddressCity] [NVARCHAR](100) NULL,
    [BillingAddressState] [NVARCHAR](100) NULL,
    [BillingAddressPostalcode] [NVARCHAR](50) NULL,
    [BillingAddressCountry] [NVARCHAR](100) NULL,
    [Description] [TEXT] NULL,
    [PhoneOffice] [NVARCHAR](50) NULL,
    [Email1] [NVARCHAR](255) NULL,
    [Email2] [NVARCHAR](255) NULL,
    [Website] [NVARCHAR](255) NULL,
    [Ownership] [NVARCHAR](100) NULL,
    [Employees] [NVARCHAR](50) NULL,
    [ShippingAddressStreet] [NVARCHAR](512) NULL,
    [ShippingAddressCity] [NVARCHAR](100) NULL,
    [ShippingAddressState] [INT] NULL,
    [ShippingAddressPostalcode] [NVARCHAR](50) NULL,
    [ShippingAddressCountry] [INT] NULL,
    [CampaignId] [UNIQUEIDENTIFIER] NULL,
    [Picture] [NVARCHAR](1024) NULL,
    [DoNotCall] [BIT] NULL,
    [EmailOptOut] [BIT] NULL,
    [InvalidEmail] [BIT] NULL,
    CONSTRAINT FK_Accounts_CreatedBy FOREIGN KEY (CreatedBy) REFERENCES [User].[UserProfile](UserId),
    CONSTRAINT FK_Accounts_ModifiedUserId FOREIGN KEY (ModifiedUserId) REFERENCES [User].[UserProfile](UserId),
    CONSTRAINT FK_Accounts_AssignedUserId FOREIGN KEY (AssignedUserId) REFERENCES [User].[UserProfile](UserId),
    CONSTRAINT FK_Accounts_TeamId FOREIGN KEY (TeamId) REFERENCES Teams(TeamId),
    CONSTRAINT FK_Accounts_ParentId FOREIGN KEY (ParentId) REFERENCES [User].[Accounts](AccountId),
    CONSTRAINT FK_Accounts_CampaignId FOREIGN KEY (CampaignId) REFERENCES Campaigns(Id)
);

